annotate("text",y=30,x = as.Date("2018-10-15","%Y-%m-%d"),
label = "calibration",color = "#53868B",size=5)+
annotate("text",y=27,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE9_c, 3),sep = " "),size=4)+
annotate("text",y=24,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS9_c, 3),sep = " "),size=4)+
annotate("text",y=30,x = as.Date("2021-3-15","%Y-%m-%d"),
label = "validation",color = "#53868B",size=5)+
annotate("text",y=27,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE9_v, 3),sep = " "),size=4)+
annotate("text",y=24,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS9_v, 3),sep = " "),size=4)
p_9
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9 <- ggplot(complete_data, aes(x = date)) +
geom_point(aes(y = obs_9), shape = 1, size = 0.4, color = "blue") +
geom_line(aes(y = sim_9), linetype = "solid", color = "red") +
geom_vline(xintercept = as.numeric(as.Date("2018-12-31","%Y-%m-%d")))+
ggtitle("Tong River_9") +
scale_x_date(date_breaks = "6 month", date_labels = "%Y-%m") +
xlab("Date") +
ylab("Flow (m3/s)")+
annotate("text",y=30,x = as.Date("2018-10-15","%Y-%m-%d"),
label = "calibration",color = "#53868B",size=5)+
annotate("text",y=27,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE9_c, 3),sep = " "),size=4)+
annotate("text",y=24,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS9_c, 3),sep = " "),size=4)+
annotate("text",y=30,x = as.Date("2021-3-15","%Y-%m-%d"),
label = "validation",color = "#53868B",size=5)+
annotate("text",y=27,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE9_v, 3),sep = " "),size=4)+
annotate("text",y=24,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS9_v, 3),sep = " "),size=4)
p_9
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9 <- ggplot(complete_data, aes(x = date)) +
geom_point(aes(y = obs_9), shape = 1, size = 0.4, color = "blue") +
geom_line(aes(y = sim_9), linetype = "solid", color = "red") +
geom_vline(xintercept = as.numeric(as.Date("2018-12-31","%Y-%m-%d")))+
ggtitle("Tong River_9") +
scale_x_date(date_breaks = "6 month", date_labels = "%Y-%m") +
xlab("Date") +
ylab("Flow (m3/s)")+
annotate("text",y=30,x = as.Date("2018-10-15","%Y-%m-%d"),
label = "calibration",color = "#53868B",size=5)+
annotate("text",y=27,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE9_c, 3),sep = " "),size=4)+
annotate("text",y=24,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS9_c, 3),sep = " "),size=4)+
annotate("text",y=30,x = as.Date("2021-3-15","%Y-%m-%d"),
label = "validation",color = "#53868B",size=5)+
annotate("text",y=27,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE9_v, 3),sep = " "),size=4)+
annotate("text",y=24,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS9_v, 3),sep = " "),size=4)
p_9
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9 <- ggplot(complete_data, aes(x = date)) +
geom_point(aes(y = obs_9), shape = 1, size = 0.4, color = "blue") +
geom_line(aes(y = sim_9), linetype = "solid", color = "red") +
geom_vline(xintercept = as.numeric(as.Date("2018-12-31","%Y-%m-%d")))+
ggtitle("Tong River_9") +
scale_x_date(date_breaks = "6 month", date_labels = "%Y-%m") +
xlab("Date") +
ylab("Flow (m3/s)")+
annotate("text",y=30,x = as.Date("2018-10-15","%Y-%m-%d"),
label = "calibration",color = "#53868B",size=5)+
annotate("text",y=27,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE9_c, 3),sep = " "),size=4)+
annotate("text",y=24,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS9_c, 3),sep = " "),size=4)+
annotate("text",y=30,x = as.Date("2021-3-15","%Y-%m-%d"),
label = "validation",color = "#53868B",size=5)+
annotate("text",y=27,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE9_v, 3),sep = " "),size=4)+
annotate("text",y=24,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS9_v, 3),sep = " "),size=4)
p_9
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
View(sim9_data)
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
library(lubridate)
# Load the data
data <- read.table("dat/obs_2018_2021_new.txt", header = FALSE, sep = "\t")
# Convert the first column to Date type
data$V1 <- as.Date(data$V1, format = "%Y/%m/%d")
# Set NAs for riv20
start_date <- as.Date("2018-10-04")
end_date <- as.Date("2018-12-06")
# Set the third column to NA for the specified date range
data$V3[data$V1 >= start_date & data$V1 <= end_date] <- NA
start_date <- as.Date("2018-08-15")
end_date <- as.Date("2018-08-16")
data$V3[data$V1 >= start_date & data$V1 <= end_date] <- NA
start_date <- as.Date("2019-01-01")
end_date <- as.Date("2021-05-10")
data$V3[data$V1 >= start_date & data$V1 <= end_date] <- NA
#Set NAs for riv9
start_date <- as.Date("2019-07-15")
end_date <- as.Date("2019-08-27")
data$V2[data$V1 >= start_date & data$V1 <= end_date] <- NA
start_date <- as.Date("2020-07-12")
end_date <- as.Date("2020-09-04")
data$V2[data$V1 >= start_date & data$V1 <= end_date] <- NA
colnames(data) <- c("date", "obs_9", "obs_20", "rainfall")
complete_data <- data[1:1051,]
complete_data$sim_9 <- sim9_data$V2[227:1277]
complete_data$sim_20 <- sim20_data$V2[227:1277]
library(ggplot2)
p_20 <- ggplot(complete_data, aes(x = date)) +
geom_point(aes(y = obs_20), shape = 1, size = 0.4, color = "blue") +
geom_line(aes(y = sim_20), linetype = "solid", color = "red") +
geom_vline(xintercept = as.numeric(as.Date("2018-12-31","%Y-%m-%d")))+
ggtitle("Tong River_20") +
scale_x_date(date_breaks = "6 month", date_labels = "%Y-%m") +
xlab("Date") +
ylab("Flow (m3/s)")+
annotate("text",y=10,x = as.Date("2018-10-15","%Y-%m-%d"),
label = "calibration",color = "#53868B",size=5)+
annotate("text",y=9,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE20_c, 3),sep = " "),size=4)+
annotate("text",y=8,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS20_c, 3),sep = " "),size=4)+
annotate("text",y=10,x = as.Date("2021-3-15","%Y-%m-%d"),
label = "validation",color = "#53868B",size=5)+
annotate("text",y=9,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE20_v, 3),sep = " "),size=4)+
annotate("text",y=8,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS20_v, 3),sep = " "),size=4)
print(p_20)
p_9 <- ggplot(complete_data, aes(x = date)) +
geom_point(aes(y = obs_9), shape = 1, size = 0.4, color = "blue") +
geom_line(aes(y = sim_9), linetype = "solid", color = "red") +
geom_vline(xintercept = as.numeric(as.Date("2018-12-31","%Y-%m-%d")))+
ggtitle("Tong River_9") +
scale_x_date(date_breaks = "6 month", date_labels = "%Y-%m") +
xlab("Date") +
ylab("Flow (m3/s)")+
annotate("text",y=30,x = as.Date("2018-10-15","%Y-%m-%d"),
label = "calibration",color = "#53868B",size=5)+
annotate("text",y=27,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE9_c, 3),sep = " "),size=4)+
annotate("text",y=24,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS9_c, 3),sep = " "),size=4)+
annotate("text",y=30,x = as.Date("2021-3-15","%Y-%m-%d"),
label = "validation",color = "#53868B",size=5)+
annotate("text",y=27,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE9_v, 3),sep = " "),size=4)+
annotate("text",y=24,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS9_v, 3),sep = " "),size=4)
p_9
p_9 <- ggplot(complete_data, aes(x = date)) +
geom_point(aes(y = obs_9), shape = 1, size = 0.4, color = "blue") +
geom_line(aes(y = sim_9), linetype = "solid", color = "red") +
geom_vline(xintercept = as.numeric(as.Date("2018-12-31","%Y-%m-%d")))+
ggtitle("Tong River_9") +
scale_x_date(date_breaks = "6 month", date_labels = "%Y-%m") +
xlab("Date") +
ylab("Flow (m3/s)")+
scale_y_continuous(limits = c(0, 40))+
annotate("text",y=30,x = as.Date("2018-10-15","%Y-%m-%d"),
label = "calibration",color = "#53868B",size=5)+
annotate("text",y=27,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE9_c, 3),sep = " "),size=4)+
annotate("text",y=24,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS9_c, 3),sep = " "),size=4)+
annotate("text",y=30,x = as.Date("2021-3-15","%Y-%m-%d"),
label = "validation",color = "#53868B",size=5)+
annotate("text",y=27,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE9_v, 3),sep = " "),size=4)+
annotate("text",y=24,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS9_v, 3),sep = " "),size=4)
p_9
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9
print(p_20)
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
library(lubridate)
# Load the data
data <- read.table("dat/obs_2018_2021_new.txt", header = FALSE, sep = "\t")
# Convert the first column to Date type
data$V1 <- as.Date(data$V1, format = "%Y/%m/%d")
# Set NAs for riv20
start_date <- as.Date("2018-10-04")
end_date <- as.Date("2018-12-06")
# Set the third column to NA for the specified date range
data$V3[data$V1 >= start_date & data$V1 <= end_date] <- NA
start_date <- as.Date("2018-08-15")
end_date <- as.Date("2018-08-16")
data$V3[data$V1 >= start_date & data$V1 <= end_date] <- NA
start_date <- as.Date("2019-01-01")
end_date <- as.Date("2021-05-10")
data$V3[data$V1 >= start_date & data$V1 <= end_date] <- NA
#Set NAs for riv9
start_date <- as.Date("2019-07-15")
end_date <- as.Date("2019-08-27")
data$V2[data$V1 >= start_date & data$V1 <= end_date] <- NA
start_date <- as.Date("2020-07-12")
end_date <- as.Date("2020-09-04")
data$V2[data$V1 >= start_date & data$V1 <= end_date] <- NA
colnames(data) <- c("date", "obs_9", "obs_20", "rainfall")
complete_data <- data[1:1051,]
complete_data$sim_9 <- sim9_data$V2[227:1277]
complete_data$sim_20 <- sim20_data$V2[227:1277]
library(ggplot2)
p_20 <- ggplot(complete_data, aes(x = date)) +
geom_point(aes(y = obs_20), shape = 1, size = 0.4, color = "blue") +
geom_line(aes(y = sim_20), linetype = "solid", color = "red") +
geom_vline(xintercept = as.numeric(as.Date("2018-12-31","%Y-%m-%d")))+
ggtitle("Tong River_20") +
scale_x_date(date_breaks = "6 month", date_labels = "%Y-%m") +
xlab("Date") +
ylab("Flow (m3/s)")+
annotate("text",y=10,x = as.Date("2018-10-15","%Y-%m-%d"),
label = "calibration",color = "#53868B",size=5)+
annotate("text",y=9,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE20_c, 3),sep = " "),size=4)+
annotate("text",y=8,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS20_c, 3),sep = " "),size=4)+
annotate("text",y=10,x = as.Date("2021-3-15","%Y-%m-%d"),
label = "validation",color = "#53868B",size=5)+
annotate("text",y=9,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE20_v, 3),sep = " "),size=4)+
annotate("text",y=8,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS20_v, 3),sep = " "),size=4)
print(p_20)
p_9 <- ggplot(complete_data, aes(x = date)) +
geom_point(aes(y = obs_9), shape = 1, size = 0.4, color = "blue") +
geom_line(aes(y = sim_9), linetype = "solid", color = "red") +
geom_vline(xintercept = as.numeric(as.Date("2018-12-31","%Y-%m-%d")))+
ggtitle("Tong River_9") +
scale_x_date(date_breaks = "6 month", date_labels = "%Y-%m") +
xlab("Date") +
ylab("Flow (m3/s)")+
scale_y_continuous(limits = c(0, 40))+
annotate("text",y=30,x = as.Date("2018-10-15","%Y-%m-%d"),
label = "calibration",color = "#53868B",size=5)+
annotate("text",y=27,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE9_c, 3),sep = " "),size=4)+
annotate("text",y=24,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS9_c, 3),sep = " "),size=4)+
annotate("text",y=30,x = as.Date("2021-3-15","%Y-%m-%d"),
label = "validation",color = "#53868B",size=5)+
annotate("text",y=27,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE9_v, 3),sep = " "),size=4)+
annotate("text",y=24,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS9_v, 3),sep = " "),size=4)
p_9
print(p_20)
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9
print(p_20)
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9
print(p_20)
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_20 <- ggplot(complete_data, aes(x = date)) +
geom_point(aes(y = obs_20), shape = 1, size = 0.4, color = "blue") +
geom_line(aes(y = sim_20), linetype = "solid", color = "red") +
geom_vline(xintercept = as.numeric(as.Date("2018-12-31","%Y-%m-%d")))+
geom_bar(aes(y = rainfall))+
ggtitle("Tong River_20") +
scale_x_date(date_breaks = "6 month", date_labels = "%Y-%m") +
scale_y_continuous(limits = c(0, 15))+
xlab("Date") +
ylab("Flow (m3/s)")+
annotate("text",y=10,x = as.Date("2018-10-15","%Y-%m-%d"),
label = "calibration",color = "#53868B",size=5)+
annotate("text",y=9,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE20_c, 3),sep = " "),size=4)+
annotate("text",y=8,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS20_c, 3),sep = " "),size=4)+
annotate("text",y=10,x = as.Date("2021-3-15","%Y-%m-%d"),
label = "validation",color = "#53868B",size=5)+
annotate("text",y=9,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE20_v, 3),sep = " "),size=4)+
annotate("text",y=8,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS20_v, 3),sep = " "),size=4)
print(p_20)
rlang::last_trace()
rlang::last_trace(drop = FALSE)
View(complete_data)
p_20 <- ggplot(complete_data, aes(x = date)) +
geom_point(aes(y = obs_20), shape = 1, size = 0.4, color = "blue") +
geom_line(aes(y = sim_20), linetype = "solid", color = "red") +
geom_bar(aes(y = sim_20), stat = "identity")+
geom_vline(xintercept = as.numeric(as.Date("2018-12-31","%Y-%m-%d")))+
ggtitle("Tong River_20") +
scale_x_date(date_breaks = "6 month", date_labels = "%Y-%m") +
scale_y_continuous(limits = c(0, 15))+
xlab("Date") +
ylab("Flow (m3/s)")+
annotate("text",y=10,x = as.Date("2018-10-15","%Y-%m-%d"),
label = "calibration",color = "#53868B",size=5)+
annotate("text",y=9,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE20_c, 3),sep = " "),size=4)+
annotate("text",y=8,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS20_c, 3),sep = " "),size=4)+
annotate("text",y=10,x = as.Date("2021-3-15","%Y-%m-%d"),
label = "validation",color = "#53868B",size=5)+
annotate("text",y=9,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE20_v, 3),sep = " "),size=4)+
annotate("text",y=8,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS20_v, 3),sep = " "),size=4)
print(p_20)
p_20 <- ggplot(complete_data, aes(x = date)) +
geom_point(aes(y = obs_20), shape = 1, size = 0.4, color = "blue") +
geom_line(aes(y = sim_20), linetype = "solid", color = "red") +
geom_bar(aes(y = rainfall), stat = "identity")+
geom_vline(xintercept = as.numeric(as.Date("2018-12-31","%Y-%m-%d")))+
ggtitle("Tong River_20") +
scale_x_date(date_breaks = "6 month", date_labels = "%Y-%m") +
scale_y_continuous(limits = c(0, 15))+
xlab("Date") +
ylab("Flow (m3/s)")+
annotate("text",y=10,x = as.Date("2018-10-15","%Y-%m-%d"),
label = "calibration",color = "#53868B",size=5)+
annotate("text",y=9,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE20_c, 3),sep = " "),size=4)+
annotate("text",y=8,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS20_c, 3),sep = " "),size=4)+
annotate("text",y=10,x = as.Date("2021-3-15","%Y-%m-%d"),
label = "validation",color = "#53868B",size=5)+
annotate("text",y=9,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE20_v, 3),sep = " "),size=4)+
annotate("text",y=8,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS20_v, 3),sep = " "),size=4)
print(p_20)
p_20 <- ggplot(complete_data, aes(x = date)) +
geom_point(aes(y = obs_20), shape = 1, size = 0.4, color = "blue") +
geom_line(aes(y = sim_20), linetype = "solid", color = "red") +
geom_bar(aes(y = rainfall), stat = "identity", alpha = 0.5)+
geom_vline(xintercept = as.numeric(as.Date("2018-12-31","%Y-%m-%d")))+
ggtitle("Tong River_20") +
scale_x_date(date_breaks = "6 month", date_labels = "%Y-%m") +
scale_y_continuous(limits = c(0, 15))+
xlab("Date") +
ylab("Flow (m3/s)")+
annotate("text",y=10,x = as.Date("2018-10-15","%Y-%m-%d"),
label = "calibration",color = "#53868B",size=5)+
annotate("text",y=9,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE20_c, 3),sep = " "),size=4)+
annotate("text",y=8,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS20_c, 3),sep = " "),size=4)+
annotate("text",y=10,x = as.Date("2021-3-15","%Y-%m-%d"),
label = "validation",color = "#53868B",size=5)+
annotate("text",y=9,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE20_v, 3),sep = " "),size=4)+
annotate("text",y=8,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS20_v, 3),sep = " "),size=4)
print(p_20)
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9 <- ggplot(complete_data, aes(x = date)) +
geom_point(aes(y = obs_9), shape = 1, size = 0.4, color = "blue") +
geom_line(aes(y = sim_9), linetype = "solid", color = "red") +
geom_vline(xintercept = as.numeric(as.Date("2018-12-31","%Y-%m-%d")))+
ggtitle("Tong River_9") +
scale_x_date(date_breaks = "6 month", date_labels = "%Y-%m") +
scale_y_continuous(limits = c(0, 40))+
xlab("Date") +
ylab("Flow (m3/s)")+
annotate("text",y=30,x = as.Date("2018-10-15","%Y-%m-%d"),
label = "calibration",color = "#53868B",size=5)+
annotate("text",y=27,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE9_c, 3),sep = " "),size=4)+
annotate("text",y=24,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS9_c, 3),sep = " "),size=4)+
annotate("text",y=30,x = as.Date("2021-3-15","%Y-%m-%d"),
label = "validation",color = "#53868B",size=5)+
annotate("text",y=27,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE9_v, 3),sep = " "),size=4)+
annotate("text",y=24,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS9_v, 3),sep = " "),size=4)
p_9
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9 <- ggplot(complete_data, aes(x = date)) +
geom_point(aes(y = obs_9), shape = 1, size = 0.4, color = "blue") +
geom_line(aes(y = sim_9), linetype = "solid", color = "red") +
geom_vline(xintercept = as.numeric(as.Date("2018-12-31","%Y-%m-%d")))+
ggtitle("Tong River_9") +
scale_x_date(date_breaks = "6 month", date_labels = "%Y-%m") +
scale_y_continuous(limits = c(0, 40))+
xlab("Date") +
ylab("Flow (m3/s)")+
annotate("text",y=30,x = as.Date("2018-10-15","%Y-%m-%d"),
label = "calibration",color = "#53868B",size=5)+
annotate("text",y=27,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE9_c, 3),sep = " "),size=4)+
annotate("text",y=24,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS9_c, 3),sep = " "),size=4)+
annotate("text",y=30,x = as.Date("2021-3-15","%Y-%m-%d"),
label = "validation",color = "#53868B",size=5)+
annotate("text",y=27,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE9_v, 3),sep = " "),size=4)+
annotate("text",y=24,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS9_v, 3),sep = " "),size=4)
p_9
print(p_20)
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9 <- ggplot(complete_data, aes(x = date)) +
geom_point(aes(y = obs_9), shape = 1, size = 0.4, color = "blue") +
geom_line(aes(y = sim_9), linetype = "solid", color = "red") +
geom_vline(xintercept = as.numeric(as.Date("2018-12-31","%Y-%m-%d")))+
ggtitle("Tong River_9") +
scale_x_date(date_breaks = "6 month", date_labels = "%Y-%m") +
scale_y_continuous(limits = c(0, 40))+
xlab("Date") +
ylab("Flow (m3/s)")+
annotate("text",y=30,x = as.Date("2018-10-15","%Y-%m-%d"),
label = "calibration",color = "#53868B",size=5)+
annotate("text",y=27,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE9_c, 3),sep = " "),size=4)+
annotate("text",y=24,x = as.Date("2018-10-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS9_c, 3),sep = " "),size=4)+
annotate("text",y=30,x = as.Date("2021-3-15","%Y-%m-%d"),
label = "validation",color = "#53868B",size=5)+
annotate("text",y=27,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("NSE:",round(NSE9_v, 3),sep = " "),size=4)+
annotate("text",y=24,x = as.Date("2021-3-15","%Y-%m-%d"),
label = paste("PBIAS:",round(PBIAS9_v, 3),sep = " "),size=4)
p_9
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9
print(p_20)
View(complete_data)
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
p_9
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
source("~/Library/Mobile Documents/com~apple~CloudDocs/Coding/SHUI/shui_tyh_flow_1201/Validation_new.R")
